<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="js_gacha.css">

	<title>1回ガチャ画面</title>
</head>
<body>

 <h2>いろいろでるがちゃ<span>1回ver.</span></h2>

<script>
var no_rare = 0;
var no_srare = 0;
var no_urare = 0;
function gatcha() {
	var img = document.getElementById("card"); 
	var number = Math.floor(100*Math.random());
	if( number < 80 ) {
		img.src = "rare1.jpg";
		no_rare++;
	} else if( number < 99 ) {
		img.src = "srare1.jpg";
		no_srare++;
	} else {
		alert("おめでとう！");
		img.src = "urare.jpg";
		no_urare++;
	}
	var total = no_rare + no_srare + no_urare;
	document.getElementById("price").innerHTML = total*300+"円";
	document.getElementById("no_rare").innerHTML = no_rare+"枚（確率"+Math.round(no_rare/total*100*100)/100+"％）";
	document.getElementById("no_srare").innerHTML = no_srare+"枚（確率"+Math.round(no_srare/total*100*100)/100+"％）";
	document.getElementById("no_urare").innerHTML = no_urare+"枚（確率"+Math.round(no_urare/total*100*100)/100+"％）";
}
</script>

<div><img id="card" src="unknown.png" width="300" height="400"></div>

<div onclick="gatcha()" class="btn-wrap">
  <a href="#" class="btn btn-border-shadow">1回ひく！</a>
</div>
<p>
<a href="gacha_top.html" class="btn btn-border-shadow btn-border-shadow--radius">topに戻る</a>
</p>
<dl>
	<dt>現在の課金額</dt>
	<dd id="price">0円</dd>
	<dt>レアの枚数（設定確率は80％）</dt>
	<dd id="no_rare">0枚</dd>
	<dt>ＳＲの枚数（設定確率は19％）</dt>
	<dd id="no_srare">0枚</dd>
	<dt>ＵＲの枚数（設定確率は1％）</dt>
	<dd id="no_urare">0枚</dd>
</dl>

</body>
</html>

